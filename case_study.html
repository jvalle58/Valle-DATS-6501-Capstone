<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Capstone Case Study</title>
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/bootstrap.css" rel="stylesheet" />
        <!-- Customized CSS theme (overrides Bootstrap)-->
        <link href="css/custom.css" rel="stylesheet" />
    </head>
    <body>
        <!-- Responsive navbar-->
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container">
                <a class="navbar-brand">DATS 6501: Data Science Capstone</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                        <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" id="navbarDropdown" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Visualizations</a>
                            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                                <li><a class="dropdown-item" href="voting.html">Voting</a></li>
                                <div class="dropdown-divider"></div>
                                <li><a class="dropdown-item" href="income.html">Income</a></li>
                                <div class="dropdown-divider"></div>
                                <li><a class="dropdown-item" href="population.html">Population</a></li>
                                <div class="dropdown-divider"></div>
                                <li><a class="dropdown-item" href="gdp.html">GDP</a></li>
                            </ul>
                        </li>
                        <li class="nav-item"><a class="nav-link" href="case_study.html">Case Study</a></li>
                        <li class="nav-item"><a class="nav-link" href="conclusions.html">Conclusions</a></li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" id="navbarDropdown" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">References</a>
                            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                                <li><a class="dropdown-item" href="references.html">References</a></li>
                                <div class="dropdown-divider"></div>
                                <li><a class="dropdown-item" href="https://github.com/jvalle58/Valle-DATS-6501-Capstone">GitHub</a></li>
                                <div class="dropdown-divider"></div>
                                <li><a class="dropdown-item" href="https://public.tableau.com/app/profile/joseph.valle8758">Tableau</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Page content-->
        <div class="container">
            <div class="text-center mt-5">
                <h1>Case Study</h1>
                <h6>Determining Income's Predictive Power on Party Preference at the County Level</h6>
                <br>
                <br>
                <p>
                    At this point, we now dive into the most critical question that inspired this project - how much can a county's income predict its party preference?
                </p>
                <p> 
                    First, to study the correlation between average income and voting shares toward both parties over our time span, refer to the scatter plots below.
                    With these visualizations, you have the option to filter down to a single state or select one or more party preferences.
                    The plots have also been incorporated with trending linear regressions that adjust based on these filters.
                </p>
                <div class='tableauPlaceholder' id='viz1635796541638' style='position: relative'><noscript><a href='#'><img alt='Income Vs Democrat ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Ca&#47;Capstone_11_01&#47;IncomeVsDemocrat&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='Capstone_11_01&#47;IncomeVsDemocrat' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Ca&#47;Capstone_11_01&#47;IncomeVsDemocrat&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-US' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1635796541638');                    var vizElement = divElement.getElementsByTagName('object')[0];                    if ( divElement.offsetWidth > 800 ) { vizElement.style.width='1295px';vizElement.style.height='627px';} else if ( divElement.offsetWidth > 500 ) { vizElement.style.width='1295px';vizElement.style.height='627px';} else { vizElement.style.width='100%';vizElement.style.height='727px';}                     var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>
                <br>
                <div class='tableauPlaceholder' id='viz1635796557487' style='position: relative'><noscript><a href='#'><img alt='Income Vs Republican ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Ca&#47;Capstone_11_01&#47;IncomeVsRepublican&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='Capstone_11_01&#47;IncomeVsRepublican' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Ca&#47;Capstone_11_01&#47;IncomeVsRepublican&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-US' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1635796557487');                    var vizElement = divElement.getElementsByTagName('object')[0];                    if ( divElement.offsetWidth > 800 ) { vizElement.style.width='1295px';vizElement.style.height='627px';} else if ( divElement.offsetWidth > 500 ) { vizElement.style.width='1295px';vizElement.style.height='627px';} else { vizElement.style.width='100%';vizElement.style.height='727px';}                     var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>
                </div>
                <br>
                <p>
                    Now as you can see, how Republican or Democratic a county is depends on its average voting proportions toward each party over the elections from 2004 to 2016.
                    Recall that a "solid" county supports one party by more than 15% compared to the other on average.
                    In extension, a county "likely" favors a party if its margin lies somewhere in the range of 10 to 15%.
                    Taken even further, a "tilt" county prefers one party over the other only by a margin between 5 and 10%.
                    Finally, counties designated as "tossups" do not show any clear preference to either of the parties, as the difference in support between them comes out as less than 5%.
                    Not surpisingly, these counties often receive significant press attention from journalists and party officials due to their status as "swing" counties, especially in the Rust Belt.
                </p>
                <p>
                    To test how much income can sway how a county will vote, four machine-learning models were applied to answer this question -
                </p>
                <li>Histogram gradient boosting classifier</li>
                <li>Logistic regression</li>
                <li>Multilayer perceptron classifier</li>
                <li>Random forest classifier</li>
                <br>            
                <p>
                    In the data preprocessing stage, PartyPref was created as a new variable to show how strongly a county supports either party on average, and selected as the target.
                    Recall from the visualizations how this is distinct from PluralityParty, which simply refers to whichever party won a plurality of votes in a county for a given election.
                    In contrast, a county's classification under PartyPref remains the same for all four elections, even if it flipped between parties over times.
                    Prior to running the models, the data was cleaned up and sorted to include each election year's figures, and split into 60% train, 20% validation, and 20% test.
                    For each row, two identifier columns, GeoFIPs and Area, were dropped from the data.
                    The data taken for the machine-learning experiment applied to the years 2004, 2008, 2012, and 2016.
                    Attached below are the accuracy scores for each of the models implemented.
                    From the random tree classifier, you can also view the features' rankings in terms of their importance toward predicting PartyPref.
                    When observing the latter, consider the significance of income with respect to other economic attributes.
                </p>
                <p>
                    <div class="inline-block">
                        <img src="images/Accuracy_Scores.png" width="750" height="150" hspace="50" position="left">
                    </div>
                    <div class="inline-block">
                        <img src="images/Feature_Importance.png" width="300" height="480" hspace="50" position="right">
                    </div>
                </p>
                <br>
                <p>
                    Based on the results above, at almost 72% accuracy the multilayer perceptron classifier was the best model in forecasting PartyPref.
                    In the earlier stages of machine-learning testing for this project, the premise was to rely entirely on a logistic regression to analyze the extent to which income could influence how a county voted.
                    As can be seen here however, at just 58.68% accuracy this model turned out to be the weakest of the four in predicting our target variable.
                    Earlier models had also been tested with PluralityParty as the target variable, but these were less accurate in determining a county's partisan tendencies across our time span of interest.
                </p>
                <p>
                    Using the random forest classifier, when ranking the features with respect to their predictive power on PartyPref, income emerges in 13th place out of 103 features.
                    The latter figure includes several that had been one-hot-encoded prior to running the models, including the states.
                    Each of the states was transformed into a binary feature that tested whether a row corresponded with it, as determined under the State column.
                    Notice how many of the features ranked ahead of income, such as RepVotesTotalPercent and DemVotesTotalPercent, were taken from the voting data.
                </p>
                <p>
                    Within our decision tree however, we can also see that income ranks 5th among 30 economic features incorporated within the data.
                    For consistency and statistical purposes, Year is included among those attributes.
                    Yet, if we look further it appears that a county's GDP dollar amount toward government and finance can more accurately predict a county's partisan tendencies.
                    Intriguingly enough, this does not necessarily extend to its shares of GDP toward both of those industries.
                    In fact, a county's share toward government likewise ranks higher than income, but its finance share does not even place within the top 15 features.
                    Among these attributes, shares toward manufacturing and the joint industries of education and health appear to be more critical.
                </p>
            <br>
        </div>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
        <!-- Footer-->
        <div class="footer">
            <a>Copyright &copy; Joseph Valle 2021</a>
        </div>
    </body>
</html>